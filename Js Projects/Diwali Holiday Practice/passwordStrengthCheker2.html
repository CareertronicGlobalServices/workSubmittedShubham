<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./passwordStrengthChecker2.css">
</head>
<body>
     <div class="main-container">
        <h1 class="main-heading"> üîê Password Strength Checker</h1>

        <div class="input-container">
            <label for="password" id="pass-label">Enter Password</label>
            <input type="password" id="password" placeholder="Enter your password here">
        </div>

        <div id="strength-meter">
            <div id="strength"></div>
            <div class="result" id="result">Please enter a password to check strength</div>
        </div>
         


          <div class="requirements">
            <h3>Password Requirements:</h3>
            <div class="requirement" id="length">‚úì At least 8 characters long</div>
            <div class="requirement" id="uppercase">‚úì Contains uppercase letters</div>
            <div class="requirement" id="lowercase">‚úì Contains lowercase letters</div>
            <div class="requirement" id="numbers">‚úì Contains numbers</div>
            <div class="requirement" id="special">‚úì Contains special characters</div>
        </div>
        <button type="reset" id="reset">Reset</button>
    </div>
    <script>
        const passwordInput = document.getElementById('password');
        const resultDiv = document.getElementById('result');
        const strength= document.getElementById('strength');
        const reset= document.getElementById('reset')

        passwordInput.addEventListener('input', checkpassword);
        function checkpassword(){
            const password=passwordInput.value;


            const isLong = password.length >=8;
            const hasUppercase = /[A-Z]/.test(password);
            const hasLowercase = /[a-z]/.test(password);
            const hasNumber = /[0-9]/.test(password);
            const hasSpecial = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password);

            let count= 0
            if(isLong) count++;
            if(hasUppercase) count++;
            if(hasLowercase) count++;
            if(hasNumber) count++;
            if(hasSpecial) count++;

            const strengthPercent = (count /5)*100;
            strengthMeter(strengthPercent , count);

            requirement('length', isLong);
            requirement('uppercase', hasUppercase);
            requirement('lowercase', hasLowercase);
            requirement('numbers', hasNumber);
            requirement('special', hasSpecial);
        }

        function strengthMeter(percent, count){
            //strength.style.width = percent + "%";
            strength.style.width = '32%';

             if (count === 1) {
                resultDiv.textContent = "Very Weak (Add more characters)";
                resultDiv.style.backgroundColor= 'red';
                resultDiv.className = "weak";
                strength.style.background='red';
            } 
            else if (count === 2) {
                resultDiv.textContent = "Weak ( Try to match all requirement)";
                resultDiv.style.backgroundColor = "orange";
                resultDiv.className = "weak";
                strength.style.background= 'orange';
            }
             else if (count === 3) {
                resultDiv.textContent = "Medium (Some requirement are missing  )";
                resultDiv.style.backgroundColor = "yellow";
                resultDiv.className = "medium";
                strength.style.background='yellow';
            }
            else if (count === 4) {
                resultDiv.textContent = "Medium ( Almost strong)";
                resultDiv.style.backgroundColor = "yellow";
                resultDiv.className = "medium";
                strength.style.background='yellow';
            }
             else if (count === 5){
                resultDiv.textContent = "Strong - Great password!";
                resultDiv.style.backgroundColor = "green";
                resultDiv.className = "strong";
                strength.style.background= 'green';
            }
        
        }
        

        function requirement(ele , isValid){
            const element =document.getElementById(ele);
            if(isValid){
                element.className ='required-valid';
                element.innerHTML  = '‚úì ' + element.textContent.substring(2);
            }
            else{
                element.className = 'requirement-invalid';
                element.innerHTML = '‚úó ' + element.textContent.substring(2);
            }
        }

        reset.addEventListener('click', function(){
            passwordInput.value ='';

            resultDiv.textContent = "Please enter a password to check strength";
            resultDiv.style.backgroundColor= 'transparent';

            //strength.style.width = "32%";
            strength.style.background= 'transparent'

            requirement('length', false);
            requirement('uppercase', false );
            requirement('lowercase', false);
            requirement('numbers', false);
            requirement('special', false);
        })
    </script>
</body>
</html>